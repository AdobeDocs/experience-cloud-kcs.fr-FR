---
title: Échec de la tâche DataStore GarbageCollection avec erreur
description: Description
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Sunali Paul
article-created-date: 8/3/2022 10:43:31 AM
article-published-by: Sunali Paul
article-published-date: 8/5/2022 7:27:13 AM
version-number: 1
article-number: KA-20258
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=9174741c-1913-ed11-b83d-0022480867fb
exl-id: 841377b0-1f7c-4026-9de9-838bf88c0aa0
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '316'
ht-degree: 0%

---

# Échec de la tâche DataStore GarbageCollection avec erreur

## Description


DataStoreGarbageCollectionTask échoue avec l’erreur ci-dessous

\*ERREUR\* sling-oak-observation-19 org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector Tous les référentiels n’ont pas de références marquées disponibles : e0fb2a15-d5d5-4013-9607-0fb89cf87c94 26.07.2022 20:56:50.737 \*ERROR\* sling-oak-observation-19 org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector Erreur de nettoyage de la mémoire d’objets blob java.io.IOException : Tous les référentiels n’ont pas de références marquées disponibles à l’adresse org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector$GarbageCollectionType$1.mergeAllMarkedReferences(MarkSweepGarbageCollector.java:7 22) org.apache.jackrabbit.oak-blob-plugins:1.8.8.8.8 21 at org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector.sweep(MarkSweepGarbageCollector.java:384) org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.jackrabbit.oak.plugins blob.MarkSweepGarbageCollector.markAndSweep(MarkSweepGarbageCollector.java:284) org.apache.jackrabbit.oak-blob- plugins:1.8.21 à org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector.27 Garbage(MarkSweepGarbageCollector.java:191) org.apache.jackrabbit.oak-blo b-plugins:1.8.21 à org.apache.jackrabbit.oak.plugins.blob.BlobGC$1.call(BlobGC.java:87) org.apache.jackrabbit.Blob oak-blob-plugins:1.8.21 at org.apache.jackrabbit.oak.plugins.blob.BlobGC$1.call(BlobGC.java:83) org.apache.jackrabbit.oak-blob-plugins:1.8.21 at java.util.concurrent.FutureTask.run Task.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread run(Thread.java:748) 26.07.2022 20:56:51.620 \*ERROR\* pool-20-thread-1 org.apache.jackrabbit.oak.commons.jmx.ManagementOperation Échec du nettoyage de la mémoire d’objets blob java.io.IOException : Tous les référentiels n’ont pas de références marquées disponibles à l’adresse org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector$GarbageCollectionType$1.mergeAllMarkedReferences(MarkSweepGarbageCollector.java:7 22) org.apache.jackrabbit.oak-blob-plugins:1.8.8.8.8 21 at org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector.sweep(MarkSweepGarbageCollector.java:384) org.apache.jackrabbit.oak-blob-plugins:1.8.21 at org.apache.jackrabbit.oak.plugins blob.MarkSweepGarbageCollector.markAndSweep(MarkSweepGarbageCollector.java:284) org.apache.jackrabbit.oak-blob- plugins:1.8.21 à org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector.27 Garbage(MarkSweepGarbageCollector.java:191) org.apache.jackrabbit.oak-blo b-plugins:1.8.21 à org.apache.jackrabbit.oak.plugins.blob.BlobGC$1.call(BlobGC.java:87) org.apache.jackrabbit.Blob oak-blob-plugins:1.8.21 at org.apache.jackrabbit.oak.plugins.blob.BlobGC$1.call(BlobGC.java:83) org.apache.jackrabbit.oak-blob-plugins:1.8.21 at java.util.concurrent.FutureTask.run Task.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread run(Thread.java:748) 26.07.2022 20:56:51.628 \*INFO\* pool-20-thread-1 com.adobe.granite.maintenance.impl.MaintenanceJobsManagerImpl Name=&#39;DataStoreGarbageCollectionTask&#39;, Status =&#39;ERROR&#39;, Result=&#39;Data store GC: L’opération a échoué lors du nettoyage de la mémoire Blob : Tous les référentiels n’ont pas de références marquées disponibles&#39;, Details=&#39;{&quot;created&quot; :1658858205603,&quot;started&quot;:1658858205603,&quot;finished&quot;:1658858211620,&quot;duration&quot;:6017}&#39;


## Résolution


Ce problème peut se produire si une instance précédente utilisait la banque de données, qui a été détruite et qu’une nouvelle instance a été créée pour utiliser la banque de données.

Le problème peut être résolu après la suppression de l’ID de référentiel enregistré dans la banque de données. Le contenu du magasin Blob doit alors être terminé avec succès.

Guide détaillé : 1) Accédez au chemin d’accès de la banque de données aem-install-folder/crx-quickstart/repository/datastore et recherchez l’ID du référentiel. <b>e0fb2a15-d5d5-4013-9607-0fb89cf87c94</b> (doit être identique à celui mentionné dans error.log. <b>ERROR</b>\* sling-oak-observation-19 org.apache.jackrabbit.oak.plugins.blob.MarkSweepGarbageCollector Tous les référentiels n’ont pas marqué de références disponibles : <b>e0fb2a15-d5d5-4013-9607-0fb89cf87c94</b>), vous disposez d’un fichier de référence portant ce nom, supprimez simplement ce fichier (répétez ces étapes s’il existe plusieurs fichiers).

2) Exécutez à nouveau le GC et vérifiez s’il résout le problème.
