---
title: Campaign Classic - La fonction SHA256 et SHA512 renvoie une mauvaise mise à jour de hachage 2.
description: Description
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign
keywords: La fonction KCS - SHA256 et SHA512 renvoie une mauvaise mise à jour de hachage 2.
resolution: Resolution
internal-notes: https://jira.corp.adobe.com/browse/NEO-26500, E-000202021, E-000148142
bug: true
article-created-by: Marta Zator
article-created-date: 5/9/2022 2:40:05 PM
article-published-by: Marta Zator
article-published-date: 5/9/2022 2:45:38 PM
version-number: 2
article-number: KA-16235
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=cac10be5-a5cf-ec11-a7b5-0022480a8e40
exl-id: d8803e40-5813-4fd4-921d-df10956e1e74
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '265'
ht-degree: 1%

---

# Campaign Classic - La fonction SHA256 et SHA512 renvoie une mauvaise mise à jour de hachage 2.

## Description


Le client a signalé que la fonction SHA256 et SHA512 renvoie un hachage incorrect.

Ils ont trouvé que certains utilisateurs ont aussi ce problème ici.
https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/sha256-and-sha512-function-returns-wrong-hash/qaq-p/351035/comment-id/3882


## Résolution


Le client a partagé une solution qu’il a trouvée :

Le problème est survenu car Adobe convertit le type de données de chaîne en nvarchar au lieu de varchar dans le cas où la base de données utilise le codage Unicode.
Dans le cas du client, le codage par défaut de la base de données est utilisé comme unicode pour prendre en charge la langue thaïlandaise. C’est pourquoi l’Adobe a converti la chaîne en nvarchar.

Pour les fonctions SHA256 et SHA512, il fonctionne normalement, mais il renvoie des valeurs de hachage différentes pour varchar et nvarchar.

Dans le cas du client, il a été possible de modifier ce champ (contenant uniquement un numéro de mobile) en varchar et de le hacher correctement.

Adobe Community :
[https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/sha256-and-sha512-functions-returning-wrong-hash/qaq-p/351034](https://experienceleaguecommunities.adobe.com/t5/adobe-campaign-classic-questions/sha256-and-sha512-functions-returning-wrong-hash/qaq-p/351034)



En outre, si le serveur Sql est utilisé, la fonction digest utilise la représentation utf-16 de la chaîne. Vous n’obtiendrez pas le condensé attendu (qui est souvent calculé à partir d’un caractère ascii ou ut-8).

Exemple : &quot;hello&quot; donnera 14cde7c9ad35de5a37fce2ac276742175028fd9f7cdf0dae01ff508b126429d9 comme sha2-256 sur la représentation ascii/utf-8 de la chaîne et donnera 18fe2820b38427 a08a5b49fb4d71a7027799bfe0050d3050ca4d3491a85aa0eb sur la représentation utf-16.
