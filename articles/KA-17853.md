---
title: Prise en charge des activités d’API externe
description: Description
solution: Campaign
product: Campaign
applies-to: Campaign Standard
keywords: KCS, prise en charge des activités API externes
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/6/2022 1:58:18 PM
article-published-by: Ananya Kuthiala
article-published-date: 5/6/2022 1:59:40 PM
version-number: 2
article-number: KA-17853
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=b26efb8f-44cd-ec11-a7b5-0022480b639b
exl-id: 9a77814b-5cd3-4c61-adad-1ca1f77be2ec
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '216'
ht-degree: 1%

---

# Prise en charge des activités d’API externe

## Description


Lorsque nous tentons de transmettre des données au format JSON à un point de terminaison d’API REST tiers.

le format JSON ci-dessous est accepté par le point d’entrée de l’API REST tierce.

Charge utile réelle :

`{"destination":"https://www.google.com/work/insights/123","domain":"google.com"}`

mais ACS a mis en forme le format JSON comme ci-dessous.

Charge utile modifiée :

`{“data”:{"destination":"https://www.google.com/work/insights/123","domain":"google.com"}}`

qui n’est pas accepté par le point d’entrée de l’API REST tierce.


## Résolution


Deux facteurs ont influencé la décision d&#39;utiliser le format :

1. La partie &quot;données&quot; n’est ajoutée que si une table temporaire entrante est générée par une activité précédente et que les lignes de cette table temporaire sont sérialisées dans un tableau JSON. D’où la nécessité d’une propriété json nommée &quot;data&quot; et des données sérialisées envoyées sous forme de tableau à l’aide de .
2. L’activité permet également l’envoi de paramètres personnalisés à l’API, qui sont ajoutés à la charge utile à l’aide d’une propriété &quot;params&quot;. Notez que ces problèmes sont corrigés (comme dans configuré une fois dans l’activité au moment de la création).


Ce format normalisé nous a permis d’avoir un format fixe sans prise en charge de l’interface utilisateur afin de personnaliser la mise en forme selon les spécifications d’API tierces. L’intention était d’utiliser une couche de traduction telle que Adobe I/O Runtime, ou [!DNL AWS Lambda] etc. pour effectuer une traduction à la volée de la demande/réponse, si nécessaire.
