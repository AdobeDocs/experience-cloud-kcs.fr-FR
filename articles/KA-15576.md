---
title: "Jeton de propriété de la page non identifié par le VEC de Target"
description: Description
solution: Target
product: Target
applies-to: "Target"
keywords: "KCS, jeton de propriété, page, non identifié, VEC de Target, Adobe Target, at_property, fonction window.targetPageParams"
resolution: Resolution
internal-notes: null
bug: true
article-created-by: Jim Menn
article-created-date: "9/27/2022 4:08:29 AM"
article-published-by: Jim Menn
article-published-date: "9/27/2022 6:32:36 AM"
version-number: 3
article-number: KA-15576
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=32246c07-1a3e-ed11-9db1-0022480866ad"
source-git-commit: 22f4625b33a00edc1424fe0e944b81212b4a0b1f
workflow-type: tm+mt
source-wordcount: '392'
ht-degree: 0%

---

# Jeton de propriété de la page non identifié par le VEC de Target

## Description


<b>Environnement</b>
Adobe Target

<b>Problème</b>
Le VEC de Target ne peut pas reconnaître correctement le jeton de propriété de la page.

Le compositeur d’expérience visuelle affiche un message d’avertissement *Jeton de propriété introuvable sur cette page* lors de la création de l’activité.

<b>Cause</b>
<b>Mode `at_property` utilisé pendant la &quot;création&quot; et la &quot;diffusion&quot; ?</b>

<u>Création</u>: Lorsqu’un client charge sa page/SPA dans VEC, le compositeur d’expérience visuelle analyse la page pour trouver la variable `window.targetPageParams` fonction .
S’il trouve cette fonction, il l’exécute et tente d’extraire la fonction `at_property` et, en fonction de cette valeur, déterminez l’espace de travail de cette propriété.
Si le compositeur d’expérience visuelle ne trouve pas cette fonction ou si cette fonction est manquante, le compositeur d’expérience visuelle utilise l’espace de travail par défaut par défaut.

<u>Diffusion</u>: Lors de la diffusion, Target Edge ne considère pas où la variable `at_property` provient de . Tant que la valeur de la propriété est transmise dans la requête, elle fonctionnera correctement.

<u>Comment fonctionne-t-il dans Launch ?</u>
Après avoir décrit ces deux modes de fonctionnement, il est nécessaire d’expliquer ce qui se passe dans Launch.
Dans Launch, les clients peuvent ajouter des paramètres aux actions de Launch comme ils le souhaitent, d’où généralement `at_property` est transmis en tant que paramètre à `Fire global mbox request`.
Cela fonctionne très bien pour la diffusion, mais lors du chargement du site dans VEC, puisqu’il n’y a pas de `window.targetPageParams`, le compositeur d’expérience visuelle ne peut pas récupérer l’espace de travail approprié.


## Résolution


<b>Solution</b>
Pour contourner ce problème et vous assurer que le VEC fonctionne comme prévu, une méthode consiste à demander aux clients de créer une action de code personnalisé Launch qui définirait la variable `window.targetPageParams` fonction avec `at_property`.

Le client doit s’assurer que cette action est exécutée juste avant de charger la bibliothèque Target ou de déclencher une requête de mbox globale.

Une alternative serait d’ajuster le compositeur d’expérience visuelle afin qu’il existe une intégration native entre le compositeur d’expérience visuelle et Adobe Launch, mais cela nécessiterait une plage correcte, et la mise en oeuvre prendra plus de temps.

<u>Étapes de la solution</u>:

1. Créez une action de code personnalisé Launch qui définirait la variable `window.targetPageParams` fonction avec `at_property`.


```
window.targetPageParams = function() {return {"at_property" : "%atproperty%"}; }
```


2. Assurez-vous également que cette action est exécutée juste avant de charger la bibliothèque Target ou de déclencher une requête de mbox globale.

Les étapes ci-dessus doivent garantir que le compositeur d’expérience visuelle reconnaît la propriété correctement lors de la création de l’activité.

![](http://omniture.custhelp.com/ci/inlineImage/get/3018176/a5a902ecd7ac849bb5bf0fa7e22e14e7)
