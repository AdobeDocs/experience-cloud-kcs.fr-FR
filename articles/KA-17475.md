---
title: "Comment convertir un fichier jar en lot OSGi"
description: Description
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: « KCS »
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Victoria Barnato
article-created-date: "2/22/2023 2:28:03 AM"
article-published-by: Victoria Barnato
article-published-date: "2/22/2023 2:32:37 AM"
version-number: 3
article-number: KA-17475
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=2be0e482-58b2-ed11-83fe-6045bd006b3d"
source-git-commit: 5300884bfc2492f67edaa9320b5dcc0cad13c967
workflow-type: tm+mt
source-wordcount: '208'
ht-degree: 1%

---

# Comment convertir un fichier jar en lot OSGi

## Description {#description}


Comment convertir un fichier jar existant en lot OSGi ?


## Résolution {#resolution}


Voici une méthode très simple pour retourner un fichier jar existant dans un lot OSGi, tout en conservant le contrôle sur les packages exportés.

L’exemple crée un lot OSGi à partir du junit-4.4.jar joint.

<b>Remarque :</b> La méthode ci-dessous ne fonctionne que dans un scénario où le fichier jar n’a aucune dépendance sur d’autres fichiers jar externes.



1. Commencez par créer un fichier manifeste du fichier jar :

   ```
   Manifest-Version: 1.0
   Created-By: myself
   Bundle-ManifestVersion: 2
   Bundle-Name: JUnit 4.4 bundle
   Bundle-Description: Package junit 4.4 in an OSGi bundle
   Bundle-Version: 4.4.0
   Bundle-ClassPath: .,junit-4.4.jar
   Bundle-SymbolicName: org.junit.framework
   Export-Package: junit.framework,junit.extensions,org.junit.runner,org.junit,junit.textui
   ```

   - `Bundle-ClassPath` L’en-tête est défini pour permettre l’incorporation du fichier jar d’origine tel quel. Assurez-vous que sa valeur correspond au nom du fichier jar que vous allez incorporer dans le lot.
   - `Export-Package` est une liste des packages contenus dans le fichier jar que vous souhaitez rendre disponible pour d’autres lots s’exécutant dans le conteneur OSGi.
2. Obtenez la variable [jar](https://repo1.maven.org/maven2/junit/junit/4.4/junit-4.4.jar) fichier .
3. Créez le fichier jar du lot en exécutant la commande suivante :


   ```
   jar cvfm junit-4.4-bundle.jar manifest.txt junit-4.4.jar
   ```



   Où `manifest.txt` est le nom du fichier manifeste créé ci-dessus.



   C’est tout. Le fichier jar obtenu est un lot OSGi qui exporte les modules répertoriés dans `Export-Package` ci-dessus, à l’aide des classes du fichier junit-4.4.jar incorporé.

