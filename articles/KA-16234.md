---
title: Impossible d’utiliser/d’interroger les noms de fichiers de sortie de diffusion DM
description: Description
solution: Campaign
product: Campaign
applies-to: Campaign Classic,Campaign,Campaign Standard
keywords: KCS - Impossible d’utiliser/de interroger les noms de fichiers de sortie de diffusion DM
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Karan Khanna
article-created-date: 5/10/2022 3:35:40 PM
article-published-by: Karan Khanna
article-published-date: 5/10/2022 3:36:01 PM
version-number: 2
article-number: KA-16234
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=43c42ad4-76d0-ec11-a7b5-00224809c556
exl-id: e45ff2b0-8e36-4fa2-8270-6a6ddaa0b7aa
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '319'
ht-degree: 1%

---

# Impossible d’utiliser/d’interroger les noms de fichiers de sortie de diffusion DM

## Description


L’un de mes clients a signalé le problème suivant, car ils ont des besoins commerciaux différents.

Dans le champ mdata, nous voulons extraire le nom outputFile—voir attachment(mData_outputFile.png) pour l’emplacement, stocké dans outputFile=&quot;&quot; &quot;. Nous voulons savoir comment transformer au mieux ce champ de type données xml pour qu’il soit transmis en tant que champ enrichi dans le workflow de campagne afin que nous puissions l’ajouter à notre table d’historique de promotion pour stocker tous les noms de fichier de sortie.

J&#39;ai d&#39;abord essayé de contacter mes collègues, mais malheureusement ils n&#39;ont pas beaucoup d&#39;informations sur la question ci-dessus. Puisque nous savons que les données sont un champ XML et non un champ DB sur lequel effectuer des requêtes. Mais à part cela, existe-t-il une méthode pour atteindre ce scénario ?


## Résolution


Utilisez une activité d&#39;extraction de fichier pour extraire les données de diffusion au format XML.



Cela permet de s’assurer que les données sont également extraites.



Vous pouvez ensuite utiliser une activité Chargement de fichier ou une activité Code JS pour analyser ce fichier et obtenir vos données.



OR



utilisez une activité de code JS et queryDef pour récupérer les données de votre diffusion, puis analysez le fichier xml.



Stocker les données dans une variable d’instance pour ensuite les charger en transition





Le client avait une requête de relance qui était la suivante :

&quot;Nous essayons d&#39;utiliser la méthode queryDef contre mdata, que nous avons pu écrire. Pour la méthode d&#39;analyse, quelle est l&#39;approche recommandée ?&quot;



<b>RÉPONSE —</b>

Votre requête sera semblable à



*queryDef operation=&quot;select&quot; schema=&quot;nms:delivery&quot;*

*select*

*node expr=&quot;@id&quot;/*

*node expr=&quot;output/@fileName&quot; label=&quot;Fichier de sortie&quot;/*

*/select*

*sysFilter*

*condition expr=&quot;@isModel = 0&quot;/*

*/sysFilter*

*orderBy*

*node expr=&quot;@lastModified&quot; sortDesc=&quot;true&quot;/*

*/orderBy*

*/queryDef*



Et il reviendra

*delivery-collection*

*delivery id=&quot;11878415&quot;*

*output filename=&quot;abc.txt&quot;*

*/output*

*/delivery*

*/delivery-collection*
