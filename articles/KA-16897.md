---
title: blackListEmailLastModified est modifié même lorsque blacklistEmail n'est pas modifié
description: Description
solution: Campaign
product: Campaign
applies-to: Campaign Standard
keywords: 'KCS, ACS, Campaign Standard, Mettre à jour les données, Activé si, blacklistEmail, blackListEmailLastModified '
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/10/2022 9:03:01 AM
article-published-by: Ananya Kuthiala
article-published-date: 5/10/2022 9:04:47 AM
version-number: 2
article-number: KA-16897
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ca339ff7-3fd0-ec11-a7b5-0022480a8e40
exl-id: cb8946e8-4841-4cc4-bdb2-f12743a498ac
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '196'
ht-degree: 1%

---

# blackListEmailLastModified est modifié même lorsque blacklistEmail n&#39;est pas modifié

## Description



| Cas d’utilisation : lors de l’importation de profils à partir d’un fichier, l’une des propriétés clés lues à partir du fichier est `blacklistEmail`. Comme illustré ci-dessous, si vous utilisez une mise à jour conditionnelle du champ source pour éviter des mises à jour inutiles du champ de destination.<br><br>![](assets/___cb339ff7-3fd0-ec11-a7b5-0022480a8e40___.jpeg)<br><br>Cependant, vous pouvez remarquer que la variable `blackListEmailLastModified` est modifié pour tous les profils existants importés. Le comportement attendu est que la variable `blackListEmailLastModified` ne doit être modifié que lorsque  `blacklistEmail` est modifié.<br><br>Voici la mise à jour SQL générée :<br><br>UPDATE NmsRecipient <br>     SET iGender=COALESCE( OutTbl.iFld1084817585, 0),<br>         iBlackListEmail=COALESCE( CASE OutTbl.iEnaFld1086062770 LORSQUE 1 PUIS OutTbl.iFld1086062770 AUTRE FIN NULL, CASE QUAND OutTbl.iEnaFld1086062770=1 PUIS 0 AUTRE FIN iBlacklisteEmail),<br>         iModifiedById=16107610,tsLastModified=$(curdate),<br>         tsBlackListEmailLastModified=$(curdate),<br>         tsBlackListAllLastModified=$(curdate) <br>    À partir de wkf11373941_23_1 OutTbl <br>   WHERE NmsRecipient.iRecipientId=OutTbl.iPKey_1 <br>     AND OutTbl.iRecProcState$(l) <br>     AND OutTbl.iRecProcState=$(l) <br>     AND OutTbl.iPKey_10<br><br>Comme le montre la mise à jour ci-dessus, la variable `blackListEmailLastModified` (`tsBlackListEmailLastModified`) est mis à jour, peu importe si `blacklistEmail` (`iBlackListEmail`) est mis à jour ou non. |
| --- |



## Résolution


La solution consiste à ajouter la variable `blackListEmailLastModified`  à la mise à jour conditionnelle.

Voir ci-dessous :

![](assets/46d6b7ee-ab97-eb11-b1ac-002248093c2a.png)

Et la mise à jour SQL générée montre que la variable `blackListEmailLastModified` n’est modifié que lorsque `blacklistEmail` est modifié.

```
UPDATE NmsRecipient 
    SET iGender=COALESCE( OutTbl.iFld1084817585, 0),
        iBlackListEmail=COALESCE( CASE OutTbl.iEnaFld1086062770 WHEN 1 THEN OutTbl.iFld1086062770 ELSE NULL END, CASE WHEN OutTbl.iEnaFld1086062770=1 THEN 0 ELSE iBlackListEmail END),
        tsBlackListEmailLastModified=COALESCE( CASE OutTbl.iEnaFld1169490137 WHEN 1 THEN OutTbl.tsFld1169490137 ELSE NULL END, CASE WHEN OutTbl.iEnaFld1169490137=1 THEN NULL ELSE tsBlackListEmailLastModified END),
        iModifiedById=16107610,
        tsLastModified=$(curdate),
        tsBlackListAllLastModified=$(curdate) 
   FROM wkf11373941_25_1 OutTbl 
  WHERE NmsRecipient.iRecipientId=OutTbl.iPKey_1 
    AND OutTbl.iRecProcState$(l) 
    AND OutTbl.iRecProcState=$(l) 
    AND OutTbl.iPKey_10
```
