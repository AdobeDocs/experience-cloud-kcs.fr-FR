---
title: blackListEmailLastModified est modifié même lorsque blacklistEmail n'est pas modifié
description: Description
solution: Campaign
product: Campaign
applies-to: Campaign Standard
keywords: 'KCS, ACS, Campaign Standard, Mettre à jour les données, Activé si, blacklistEmail, blackListEmailLastModified '
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/10/2022 9:03:01 AM
article-published-by: Ananya Kuthiala
article-published-date: 5/10/2022 9:04:47 AM
version-number: 2
article-number: KA-16897
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ca339ff7-3fd0-ec11-a7b5-0022480a8e40
exl-id: cb8946e8-4841-4cc4-bdb2-f12743a498ac
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '267'
ht-degree: 1%

---

# blackListEmailLastModified est modifié même lorsque blacklistEmail n&#39;est pas modifié

## Description



| Cas d’utilisation : lors de l’import de profils à partir d’un fichier, l’une des propriétés clés qu’ils lisent à partir du fichier est blacklistEmail. Comme illustré ci-dessous, si vous utilisez une mise à jour conditionnelle du champ source pour éviter des mises à jour inutiles du champ de destination.<br><br>![](assets/___cb339ff7-3fd0-ec11-a7b5-0022480a8e40___.jpeg)<br><br>Cependant, vous pouvez remarquer que le champ blackListEmailLastModified est modifié pour tous les profils existants importés. Le comportement attendu est que blackListEmailLastModified ne doit être modifié que lorsque blacklistEmail est modifié.<br><br>Voici la mise à jour SQL générée :<br><br>UPDATE NmsRecipient <br>     SET iGender=COALESCE( OutTbl.iFld1084817585, 0),<br>         iBlackListEmail=COALESCE( CASE OutTbl.iEnaFld1086062770 LORSQUE 1 PUIS OutTbl.iFld1086062770 AUTRE FIN NULL, CASE QUAND OutTbl.iEnaFld1086062770=1 PUIS 0 AUTRE FIN iBlacklisteEmail),<br>         iModifiedById=16107610,tsLastModified=$(curdate),<br>         tsBlackListEmailLastModified=$(curdate),<br>         tsBlackListAllLastModified=$(curdate) <br>    À partir de wkf11373941_23_1 OutTbl <br>   WHERE NmsRecipient.iRecipientId=OutTbl.iPKey_1 <br>     AND OutTbl.iRecProcState$(l) <br>     AND OutTbl.iRecProcState=$(l) <br>     AND OutTbl.iPKey_10<br><br>Comme illustré par la mise à jour ci-dessus, le champ blackListEmailLastModified (tsBlackListEmailLastModified) est mis à jour, que blacklistEmail (iBlackListEmail) soit mis à jour ou non. |
| --- |



## Résolution


La solution consiste à ajouter le champ blackListEmailLastModified à la mise à jour conditionnelle.

Voir ci-dessous :

![](assets/46d6b7ee-ab97-eb11-b1ac-002248093c2a.png)

Et la mise à jour SQL générée montre que blackListEmailLastModified n&#39;est modifié que lorsque blacklistEmail est modifié.

METTEZ À JOUR NmsRecipient SET iGender=COALESCE( OutTbl.iFld1084817585, 0), iBlackListEmail=COALESCE( CASE OutTbl.iEnaFld1086062770 QUAND 1 PUIS OutTbl.iFld1086062770 ELSE NULL END, CASE QUAND OutTbl.iEnaFld1086062770=1 PUIS 0 AUTRE iBlackListEmail END), BlackListEmailLastModified=COALESCE( CASE OutTbl.iEnaFld1169490137 QUAND 1 THEN OutTbl.tsFld1169490137 ELSE NULL END, CASE QUAND OutTbl.iEnaFld1169490137=1 ALORS NULL ELSE tsBlackListEmailLastModified END), iModifiedById=16107610, tsLastModified= curdate), tsBlackListAllLastModified=$(curdate) DE wkf11373941_25_1 OutTbl OÙ NmsRecipient.iRecipientId=OutTbl.iPKey_1 ET OutTbl.iRecProcState$(l) ET OutTbl.iRecProcState=(curdate) ) ET OutTbl.iPKey_10
