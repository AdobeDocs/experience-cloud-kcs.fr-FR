---
title: "Les journaux Splunk ne sont pas correctement analysés"
description: "Lors de l’affichage de Splunk, les journaux peuvent sembler concaténés et ne sont pas correctement analysés en raison de formats de journaux personnalisés incorrects."
solution: Experience Manager as a Cloud Service
product: Experience Manager as a Cloud Service
applies-to: "Experience Manager as a Cloud Service"
keywords: "KCS,Splunk, AEM, analyse des logs, journaux multilignes, Bit fluide, format de journal, trace de pile, configuration de journal"
resolution: Resolution
internal-notes: "E-001219186"
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "5/14/2024 7:43:09 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "5/14/2024 7:49:08 PM"
version-number: 3
article-number: KA-24176
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=aee3c02d-2a12-ef11-9f8a-6045bd026dc7"
source-git-commit: 0d07737d0c3e64aeb4dc0465c8e7ac4da19638d4
workflow-type: tm+mt
source-wordcount: '343'
ht-degree: 2%

---

# Les journaux Splunk ne sont pas correctement analysés.


Lors de l’utilisation de Splunk pour l’analyse du journal en association avec Adobe Experience Manager (AEM), il se peut que chaque ligne d’une trace de pile soit analysée de manière incorrecte en tant qu’événement individuel. Les journaux (en particulier les journaux personnalisés) s’affichent ainsi concaténés ou peuvent sembler ne pas être correctement analysés. Cet article traite des symptômes courants de ce problème et des étapes nécessaires pour corriger le format d’entrée du journal pour une analyse correcte dans Splunk.

## Description {#description}


### Environnement

Adobe Experience Manager as a Cloud Service

### Problème/Symptômes

Lors de l’intégration des journaux personnalisés avec Splunk, il est essentiel que les journaux soient correctement formatés pour Fluent Bit (le processeur de journaux utilisé par Splunk). Le format standard attendu est le suivant :

`dd.MM.yyyy HH:mm:ss.SSS *LEVEL* [ logger]  message`

Si les journaux ne respectent pas ce format, en particulier en ce qui concerne l’encapsulation du niveau de journal avec des astérisques et le format d’horodatage précis, Splunk peut traiter par erreur chaque ligne d’une entrée de journal multiligne, telle qu’une trace de pile, comme des événements distincts.


## Résolution {#resolution}


Pour corriger le problème d’analyse des journaux dans Splunk, les clients doivent mettre à jour leur mise en oeuvre de journalisation personnalisée dans AEM pour suivre le format requis. Pour les utilisateurs de SLF4J avec Logback ou d’autres structures, le modèle de journal doit être configuré comme suit :

`{0,date,dd.MM.yyyy HH:mm:ss.SSS} *{4}* [ {3}]  {5}`

Notez le placement d’astérisques autour de l’espace réservé de niveau journal {4}. Cette incohérence mineure peut affecter le processus d’analyse, ce qui entraîne des problèmes d’analyse et d’affichage dans Splunk.

Ce modèle garantit que les entrées du journal correspondent au format attendu, avec le niveau du journal entouré d’astérisques et la date dans la variable *day-month-year* commande.

Pour obtenir des instructions complètes sur la configuration et la configuration des formats de journalisation dans AEM as a Cloud Service, reportez-vous au [documentation de journalisation](https://experienceleague.adobe.com/docs/experience-manager-cloud-service/content/implementing/developing/logging.html?lang=en).

En se conformant au format de journal spécifié, les clients peuvent s’assurer que Splunk analyse correctement les entrées de journal multiligne, ce qui facilite une surveillance et une analyse plus efficaces.
