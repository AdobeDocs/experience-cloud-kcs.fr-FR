---
title: '''Adobe Experience Manager: Les fichiers du cache de Dispatcher sont mis à jour de manière inattendue.'
description: Description
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nobuhiro Hashimoto
article-created-date: 6/30/2022 5:05:25 AM
article-published-by: Nobuhiro Hashimoto
article-published-date: 6/30/2022 5:08:03 AM
version-number: 2
article-number: KA-19985
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=b083b13c-32f8-ec11-bb3d-000d3a5b0be0
exl-id: 57f937e5-0e45-4fba-b158-e8870ab1b868
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '260'
ht-degree: 4%

---

# Adobe Experience Manager : Les fichiers du cache de Dispatcher sont mis à jour de manière inattendue.

## Description


Parfois, vous pouvez constater que les fichiers du cache de Dispatcher sont mis à jour à une fréquence ou une heure inattendue. Cet article explique comment analyser une telle situation.

<b>Environnements</b>
AEM as a Cloud Service, AEM 6.5


## Résolution


Lors de la publication du contenu, AEM envoie une demande d’invalidation du cache (GET /dispatcher/invalidate.cache) à Dispatcher. Ensuite, lorsqu’une demande de contenu est envoyée à Dispatcher, celle-ci met à jour ses fichiers de cache.

En fonction de ce comportement, recherchez un modèle en collectant les journaux sur les demandes d’invalidation du cache et les demandes de contenu.

Exemples de journaux pour une demande d’invalidation :
<br>Dispatcher - access_log


```
127.0.0.1 - - 07/Jun/2022:13:44:35 +0900 "GET /dispatcher/invalidate.cache HTTP/1.1" 200 13 "about:blank" "Jakarta Commons-HttpClient/3.1"
```

<br>Dispatcher - dispatcher.log


```
07/Jun/2022:13:44:35 +0900 "GET /dispatcher/invalidate.cache HTTP/1.1" 200 purge publish/- 0ms
```

<br>Publier - error.log


```
07.06.2022 13:44:35.750 *INFO* sling-threadpool-f158f7aa-d59d-4d34-9bfa-be84a03a917f-(apache-sling-job-thread-pool)-1-com_day_cq_replication_job_flush(com/day/cq/replication/job/flush) com.day.cq.replication.Agent.flush Sending GET request to http://localhost:80/dispatcher/invalidate.cache
...
07.06.2022 13:44:35.758 *INFO* sling-threadpool-f158f7aa-d59d-4d34-9bfa-be84a03a917f-(apache-sling-job-thread-pool)-1-com_day_cq_replication_job_flush(com/day/cq/replication/job/flush) com.day.cq.replication.Agent.flush Replication (ACTIVATE) of /content/we-retail/us/en/products successful.
```




<b>Cause</b>

Il existe des cas typiques où les fichiers du cache de Dispatcher sont mis à jour de manière inattendue.


<u>Cas 1 - Mises à jour fréquentes du cache pour les contenus inattendus</u>

Les fichiers de cache sont mis à jour fréquemment, mais les contenus mis à jour ne sont pas la cible de la demande d’invalidation du cache.

Dans ce cas, la valeur de /statfileslevel dans la configuration de Dispatcher peut être trop basse. Notez que le commentaire de /statfileslevel dans dispatcher.any signifie &quot;0&quot; pour cette valeur.

Lorsque vous disposez de /statfileslevel &quot;0&quot; et que vous publiez du contenu, tous les fichiers de cache sont invalidés, quels que soient les chemins d’accès. La référence décrit le détail.

https://experienceleague.adobe.com/docs/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html?lang=fr#invalidating-files-by-folder-level


<u>Cas 2 - Demandes d’invalidation du cache provenant d’un client indésirable</u>

La configuration de Dispatcher peut ne pas comporter de restriction appropriée pour les demandes d’invalidation du cache. Vérifiez /allowedClients dans dispatcher.any.


<u>Cas 3 - Aucune demande d’invalidation du cache</u>

La configuration de Dispatcher peut utiliser l’invalidation temporelle du cache. Dans ce cas, /enableTTL &quot;1&quot; doit exister dans dispatcher.any.
